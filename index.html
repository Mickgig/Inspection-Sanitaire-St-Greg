<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Arbraska – Inspections sanitaires</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="styles.css">
  <meta name="theme-color" content="#0b3a2a">
</head>
<body>
<header class="app-header">
  <div class="brand">
    <img src="arbraska-logo.png" alt="Arbraska" class="brand-logo-img">
    <div class="brand-text">
      <div class="brand-title">Arbraska</div>
      <div class="brand-subtitle">Inspections sanitaires</div>
    </div>
  </div>
  <div class="app-status">
    <span id="onlineStatus" class="status-dot"></span>
    <span id="onlineText"></span>
  </div>
</header>

<section class="hero">
  <h1>Aidez-nous à garder le site propre</h1>
  <p>Effectue tes rondes, coche chaque élément et ajoute des photos avant/après pour chaque zone. Tout est sauvegardé hors ligne sur l’iPad.</p>
</section>

<nav class="tabs">
  <button class="tab-button active" data-tab="new">Nouvelle inspection</button>
  <button class="tab-button" data-tab="list">Historique</button>
  <button class="tab-button" data-tab="supervisor">Superviseur</button>
</nav>

<main>
  <section id="tab-new" class="tab-content active">
    <div class="card">
      <h2>Nouvelle inspection</h2>

      <label for="inspectorInput">Nom complet de l’inspecteur</label>
      <input id="inspectorInput" type="text" placeholder="Prénom et nom">

      <label for="washroomSelect">Toilette</label>
      <select id="washroomSelect"></select>
      <div id="washroomInfo" class="hint"></div>

      <div id="dynamicChecklist" class="fixtures-container"></div>

      <label for="notesInput">Commentaires / problèmes observés (optionnel)</label>
      <textarea id="notesInput" rows="3" placeholder="Ex.: fuite, manque de papier, odeur, bris, etc."></textarea>

      <button id="saveInspectionBtn" class="btn primary">Enregistrer l’inspection</button>
      <div id="saveMessage" class="hint"></div>
    </div>
  </section>

  <section id="tab-list" class="tab-content">
    <div class="card">
      <h2>Historique des inspections</h2>
      <div id="inspectionsSummary" class="hint"></div>
      <div id="inspectionsList" class="inspection-list"></div>
    </div>
  </section>

  <section id="tab-supervisor" class="tab-content">
    <div class="card">
      <h2>Vue superviseur</h2>
      <div id="supervisorStats" class="hint"></div>
      <div id="supervisorCharts"></div>

      <hr style="margin: 1rem 0; border: none; border-top: 1px solid #e5e7eb;">

      <div class="pin-change">
        <h3>Code superviseur</h3>
        <p class="hint">Contrôle l’accès à l’historique et à cette vue.</p>

        <label for="oldPinInput">Code actuel</label>
        <input id="oldPinInput" type="password" inputmode="numeric" autocomplete="off">

        <label for="newPinInput">Nouveau code</label>
        <input id="newPinInput" type="password" inputmode="numeric" autocomplete="off">

        <label for="newPinConfirmInput">Confirmer le nouveau code</label>
        <input id="newPinConfirmInput" type="password" inputmode="numeric" autocomplete="off">

        <button id="changePinBtn" class="btn secondary">Changer le code</button>
        <div id="changePinMessage" class="hint"></div>
      </div>
    </div>
  </section>
</main>

<footer class="app-footer">
  <span>Arbraska • Module d’inspection interne • Version 2.1 (2025-11-18)</span>
</footer>

<script src="app.js"></script>
</body>
</html>
